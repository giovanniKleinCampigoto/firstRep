  [1m[35m (115.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (104.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "survivors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "age" integer, "gender" varchar, "lonlat" varchar, "infected?" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161110171116"]]
  [1m[35m (96.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-11-10 17:11:22 UTC], ["updated_at", 2016-11-10 17:11:22 UTC]]
  [1m[35m (62.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateInventories (20161110171722)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "inventories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "water" integer, "food" integer, "medical_kits" integer, "ammo" integer, "survivor_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_inventories_on_survivor_id" ON "inventories" ("survivor_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161110171722"]]
  [1m[35m (100.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
[0m
Started POST "/survivors" for 127.0.0.1 at 2016-11-10 15:24:49 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#create as */*
  Parameters: {"survivor"=>{"name"=>"carl", "age"=>40, "gender"=>"M", "lonlat"=>"1000,-1000", "infected?"=>"false"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "survivors" ("name", "age", "gender", "lonlat", "infected?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "carl"], ["age", 40], ["gender", "M"], ["lonlat", "1000,-1000"], ["infected?", false], ["created_at", 2016-11-10 17:24:49 UTC], ["updated_at", 2016-11-10 17:24:49 UTC]]
  [1m[35m (64.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 98ms (Views: 4.0ms | ActiveRecord: 67.0ms)


Started POST "/survivors" for 127.0.0.1 at 2016-11-10 15:25:19 -0200
Processing by SurvivorsController#create as */*
  Parameters: {"survivor"=>{"name"=>"jhenny", "age"=>15, "gender"=>"F", "lonlat"=>"1000,-1000", "infected?"=>"false"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "survivors" ("name", "age", "gender", "lonlat", "infected?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "jhenny"], ["age", 15], ["gender", "F"], ["lonlat", "1000,-1000"], ["infected?", false], ["created_at", 2016-11-10 17:25:19 UTC], ["updated_at", 2016-11-10 17:25:19 UTC]]
  [1m[35m (68.4ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 75ms (Views: 1.3ms | ActiveRecord: 68.7ms)


Started POST "/survivors" for 127.0.0.1 at 2016-11-10 15:25:33 -0200
Processing by SurvivorsController#create as */*
  Parameters: {"survivor"=>{"name"=>"jhenny", "age"=>15, "gender"=>"F", "lonlat"=>"1000,-1000", "infected?"=>"false"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "survivors" ("name", "age", "gender", "lonlat", "infected?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "jhenny"], ["age", 15], ["gender", "F"], ["lonlat", "1000,-1000"], ["infected?", false], ["created_at", 2016-11-10 17:25:33 UTC], ["updated_at", 2016-11-10 17:25:33 UTC]]
  [1m[35m (71.3ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 79ms (Views: 1.4ms | ActiveRecord: 72.1ms)


Started DELETE "/survivors/3" for 127.0.0.1 at 2016-11-10 15:26:01 -0200
Processing by SurvivorsController#destroy as */*
  Parameters: {"id"=>"3"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (2.2ms)[0m  [1m[31mDELETE FROM "survivors" WHERE "survivors"."id" = ?[0m  [["id", 3]]
  [1m[35m (84.5ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 96ms (ActiveRecord: 87.0ms)


Started POST "/survivors" for 127.0.0.1 at 2016-11-10 15:26:07 -0200
Processing by SurvivorsController#create as */*
  Parameters: {"survivor"=>{"name"=>"paul", "age"=>35, "gender"=>"M", "lonlat"=>"1000,-1000", "infected?"=>"false"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "survivors" ("name", "age", "gender", "lonlat", "infected?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "paul"], ["age", 35], ["gender", "M"], ["lonlat", "1000,-1000"], ["infected?", false], ["created_at", 2016-11-10 17:26:07 UTC], ["updated_at", 2016-11-10 17:26:07 UTC]]
  [1m[35m (73.0ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 85ms (Views: 1.1ms | ActiveRecord: 74.4ms)


Started POST "/survivors" for 127.0.0.1 at 2016-11-10 15:26:20 -0200
Processing by SurvivorsController#create as */*
  Parameters: {"survivor"=>{"name"=>"john", "age"=>21, "gender"=>"M", "lonlat"=>"1000,-1000", "infected?"=>"false"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "survivors" ("name", "age", "gender", "lonlat", "infected?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "john"], ["age", 21], ["gender", "M"], ["lonlat", "1000,-1000"], ["infected?", false], ["created_at", 2016-11-10 17:26:20 UTC], ["updated_at", 2016-11-10 17:26:20 UTC]]
  [1m[35m (80.3ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 86ms (Views: 0.8ms | ActiveRecord: 81.4ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 15:26:48 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammunition"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: ammunition
DEPRECATION WARNING: Passing an argument to force an association to reload is now deprecated and will be removed in Rails 5.1. Please call `reload` on the parent object instead. (called from create at /home/giovanni/git/zombie_api/app/controllers/inventories_controller.rb:13)
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.7ms)


  
NoMethodError (undefined method `save' for nil:NilClass):
  
app/controllers/inventories_controller.rb:15:in `create'
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateInventories (20161110171722)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "inventories"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20161110171722"]]
  [1m[35m (79.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateInventories (20161110171722)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "inventories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "water" integer, "food" integer, "medical_kits" integer, "ammo" integer, "survivor_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_inventories_on_survivor_id" ON "inventories" ("survivor_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161110171722"]]
  [1m[35m (64.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
[0m
Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 15:27:53 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: Passing an argument to force an association to reload is now deprecated and will be removed in Rails 5.1. Please call `reload` on the parent object instead. (called from create at /home/giovanni/git/zombie_api/app/controllers/inventories_controller.rb:13)
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 29ms (ActiveRecord: 2.6ms)


  
NoMethodError (undefined method `save' for nil:NilClass):
  
app/controllers/inventories_controller.rb:15:in `create'
Started GET "/survivors" for 127.0.0.1 at 2016-11-10 15:28:09 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.7ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.7ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-10 15:28:12 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.4ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-10 15:28:17 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.4ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-10 15:29:19 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"lonlat"=>"5000,-5000"}, "id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "survivors" SET "lonlat" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["lonlat", "5000,-5000"], ["updated_at", 2016-11-10 17:29:19 UTC], ["id", 1]]
  [1m[35m (67.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 79ms (Views: 1.0ms | ActiveRecord: 67.8ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 15:29:35 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: Passing an argument to force an association to reload is now deprecated and will be removed in Rails 5.1. Please call `reload` on the parent object instead. (called from create at /home/giovanni/git/zombie_api/app/controllers/inventories_controller.rb:13)
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `save' for nil:NilClass):
  
app/controllers/inventories_controller.rb:15:in `create'
Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 15:32:53 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: Passing an argument to force an association to reload is now deprecated and will be removed in Rails 5.1. Please call `reload` on the parent object instead. (called from create at /home/giovanni/git/zombie_api/app/controllers/inventories_controller.rb:14)
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.8ms)


  
NoMethodError (undefined method `save' for nil:NilClass):
  
app/controllers/inventories_controller.rb:16:in `create'
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateInventories (20161110171722)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "inventories"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20161110171722"]]
  [1m[35m (95.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
Started DELETE "/survivors/1" for 127.0.0.1 at 2016-11-10 15:37:03 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.0.0.1) lib/active_record/migration.rb:572:in `check_pending!'
activerecord (5.0.0.1) lib/active_record/migration.rb:548:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started DELETE "/survivors/2" for 127.0.0.1 at 2016-11-10 15:37:03 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.0.0.1) lib/active_record/migration.rb:572:in `check_pending!'
activerecord (5.0.0.1) lib/active_record/migration.rb:548:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started DELETE "/survivors/4" for 127.0.0.1 at 2016-11-10 15:37:03 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.0.0.1) lib/active_record/migration.rb:572:in `check_pending!'
activerecord (5.0.0.1) lib/active_record/migration.rb:548:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started DELETE "/survivors/5" for 127.0.0.1 at 2016-11-10 15:37:03 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.0.0.1) lib/active_record/migration.rb:572:in `check_pending!'
activerecord (5.0.0.1) lib/active_record/migration.rb:548:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.3ms)[0m  [1m[35mDROP TABLE "survivors"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20161110171116"]]
  [1m[35m (65.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "survivors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "age" integer, "gender" varchar, "lonlat" varchar, "infected?" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "survivors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "age" integer, "gender" varchar, "lonlat" varchar, "infected?" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "inventories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "survivor_id" integer, "name" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_inventories_on_survivor_id" ON "inventories" ("survivor_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161110171116"]]
  [1m[35m (66.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateInventories (20161110171722)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "inventories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "survivor_id" integer, "name" varchar, "water" integer, "food" integer, "medical_kits" integer, "ammo" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.9ms)[0m  [1m[35mDROP TABLE "inventories"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "survivors"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20161110171116"]]
  [1m[35m (87.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "survivors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "age" integer, "gender" varchar, "lonlat" varchar, "infected?" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "inventories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "survivor_id" integer, "name" varchar, "water" integer, "food" integer, "medical_kits" integer, "ammo" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_inventories_on_survivor_id" ON "inventories" ("survivor_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161110171116"]]
  [1m[35m (70.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateInventories (20161110171722)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "inventories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "survivor_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "survivors"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20161110171116"]]
  [1m[35m (84.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "survivors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "age" integer, "gender" varchar, "lonlat" varchar, "infected?" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161110171116"]]
  [1m[35m (75.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateInventories (20161110171722)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "inventories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "water" integer, "food" integer, "medical_kits" integer, "ammo" integer, "survivor_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "survivors"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20161110171116"]]
  [1m[35m (83.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "survivors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "age" integer, "gender" varchar, "lonlat" varchar, "infected?" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "inventories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "water" integer, "food" integer, "medical_kits" integer, "ammo" integer, "survivor_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: Passing #original_exception is deprecated and has no effect. Exceptions will automatically capture the original exception. (called from load at /home/giovanni/.rvm/gems/ruby-2.3.0/bin/rake:23)
  [1m[35m (98.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (114.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "survivors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "age" integer, "gender" varchar, "lonlat" varchar, "infected?" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "inventories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "water" integer, "food" integer, "medical_kits" integer, "ammo" integer, "survivor_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_inventories_on_survivor_id" ON "inventories" ("survivor_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161110171116"]]
  [1m[35m (134.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateInventories (20161110171722)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "inventories" ("survivor_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "inventories"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "survivors"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20161110171116"]]
  [1m[35m (94.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSurvivors (20161110171116)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "survivors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "age" integer, "gender" varchar, "lonlat" varchar, "infected?" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "inventories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "survivor_id" integer, "name" varchar, "water" integer, "food" integer, "medical_kits" integer, "ammo" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_inventories_on_survivor_id" ON "inventories" ("survivor_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161110171116"]]
  [1m[35m (98.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-11-10 17:49:40 UTC], ["updated_at", 2016-11-10 17:49:40 UTC]]
  [1m[35m (89.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_inventories_on_survivor_id' AND type='index'
[0m
Started GET "/survivors" for 127.0.0.1 at 2016-11-10 15:50:10 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.5ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-10 15:50:14 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (2.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 11ms (Views: 2.5ms | ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2016-11-10 15:50:21 -0200
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /home/giovanni/.rvm/gems/ruby-2.3.0/gems/railties-5.0.0.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/giovanni/.rvm/gems/ruby-2.3.0/gems/railties-5.0.0.1/lib/rails/templates/rails/welcome/index.html.erb (5.9ms)
Completed 200 OK in 237ms (Views: 157.5ms | ActiveRecord: 0.0ms)


Started POST "/survivors" for 127.0.0.1 at 2016-11-10 15:50:45 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#create as */*
  Parameters: {"survivor"=>{"name"=>"john", "age"=>21, "gender"=>"M", "lonlat"=>"1000,-1000", "infected?"=>"false"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "survivors" ("name", "age", "gender", "lonlat", "infected?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "john"], ["age", 21], ["gender", "M"], ["lonlat", "1000,-1000"], ["infected?", false], ["created_at", 2016-11-10 17:50:45 UTC], ["updated_at", 2016-11-10 17:50:45 UTC]]
  [1m[35m (80.2ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 115ms (Views: 7.5ms | ActiveRecord: 82.3ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 15:50:52 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: Passing an argument to force an association to reload is now deprecated and will be removed in Rails 5.1. Please call `reload` on the parent object instead. (called from create at /home/giovanni/git/zombie_api/app/controllers/inventories_controller.rb:13)
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.9ms)


  
NoMethodError (undefined method `save' for nil:NilClass):
  
app/controllers/inventories_controller.rb:15:in `create'
Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 15:51:31 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 27ms (ActiveRecord: 2.5ms)


  
NoMethodError (undefined method `build' for nil:NilClass):
  
app/controllers/inventories_controller.rb:13:in `create'
Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 15:55:23 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
Completed 500 Internal Server Error in 67ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `current_survivor' for #<InventoriesController:0x00000003b50bf0>):
  
app/controllers/inventories_controller.rb:12:in `create'
Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 15:55:44 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 32ms (ActiveRecord: 2.9ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/inventories_controller.rb:13:in `create'
Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 15:58:57 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 1], ["created_at", 2016-11-10 17:58:57 UTC], ["updated_at", 2016-11-10 17:58:57 UTC]]
  [1m[35m (92.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 188ms (Views: 0.6ms | ActiveRecord: 96.2ms)


Started GET "/survivors/1/inventories/" for 127.0.0.1 at 2016-11-10 15:59:19 -0200
  
ActionController::RoutingError (No route matches [GET] "/survivors/1/inventories"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started GET "/inventories" for 127.0.0.1 at 2016-11-10 15:59:36 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.2ms)


Started POST "/survivors" for 127.0.0.1 at 2016-11-10 16:02:19 -0200
Processing by SurvivorsController#create as */*
  Parameters: {"survivor"=>[{"name"=>"john", "age"=>21, "gender"=>"M", "lonlat"=>"1000,-1000", "infected?"=>"false"}, {"name"=>"bob", "age"=>10, "gender"=>"F", "lonlat"=>"1000,-1000", "infected?"=>false}]}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `permit' for #<Array:0x00000003b05b00>
Did you mean?  print):
  
app/controllers/survivors_controller.rb:71:in `survivor_params'
app/controllers/survivors_controller.rb:18:in `create'
Started POST "/survivors" for 127.0.0.1 at 2016-11-10 16:03:03 -0200
Processing by SurvivorsController#create as */*
  Parameters: {"survivor"=>{"name"=>"bob", "age"=>10, "gender"=>"F", "lonlat"=>"1000,-1000", "infected?"=>false}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "survivors" ("name", "age", "gender", "lonlat", "infected?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "bob"], ["age", 10], ["gender", "F"], ["lonlat", "1000,-1000"], ["infected?", false], ["created_at", 2016-11-10 18:03:03 UTC], ["updated_at", 2016-11-10 18:03:03 UTC]]
  [1m[35m (95.4ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 106ms (Views: 3.9ms | ActiveRecord: 96.0ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-10 16:03:30 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-10 16:03:30 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.4ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-10 16:03:33 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:03:52 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.3ms)


  
NameError (uninitialized class variable @@count in SurvivorsController):
  
app/controllers/survivors_controller.rb:38:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:04:52 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 15ms (ActiveRecord: 1.9ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:04:54 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 4ms (ActiveRecord: 0.6ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:04:54 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-10 18:04:54 UTC], ["id", 1]]
  [1m[35m (83.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 1]]
  [1m[35m (94.8ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 226ms (ActiveRecord: 181.4ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-10 16:05:01 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 16:05:30 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 1], ["created_at", 2016-11-10 18:05:30 UTC], ["updated_at", 2016-11-10 18:05:30 UTC]]
  [1m[35m (129.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 149ms (Views: 1.3ms | ActiveRecord: 131.1ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:05:37 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:05:38 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:05:38 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.4ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 2]]
  [1m[35m (109.2ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 117ms (ActiveRecord: 111.1ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:05:41 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 4ms (ActiveRecord: 0.4ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:05:47 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:05:47 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/survivors_controller.rb:43:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:05:47 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-10 16:05:57 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-10 16:05:58 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-10 16:05:58 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-10 16:06:00 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:06:19 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:06:22 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:06:22 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 16:06:37 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 1], ["created_at", 2016-11-10 18:06:37 UTC], ["updated_at", 2016-11-10 18:06:37 UTC]]
  [1m[35m (101.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 116ms (Views: 0.9ms | ActiveRecord: 103.1ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:06:46 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:06:54 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:07:48 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 15ms (ActiveRecord: 1.9ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:07:56 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:08:17 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 16ms (ActiveRecord: 1.8ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:08:20 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:08:22 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 3]]
  [1m[35m (115.8ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 152ms (ActiveRecord: 118.2ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-10 16:08:28 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:08:34 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:08:38 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:08:39 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/survivors_controller.rb:45:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:08:52 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:13:37 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:39: syntax error, unexpected =>, expecting keyword_end
      render json: :text => "No brains on the loose..."
                           ^
/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:79: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/controllers/survivors_controller.rb:39: syntax error, unexpected =>, expecting keyword_end
app/controllers/survivors_controller.rb:79: syntax error, unexpected keyword_end, expecting end-of-input
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:13:57 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:39: syntax error, unexpected tSTRING_BEG, expecting keyword_end
      render json: :text "No brains on the loose..."
                          ^
/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:79: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/controllers/survivors_controller.rb:39: syntax error, unexpected tSTRING_BEG, expecting keyword_end
app/controllers/survivors_controller.rb:79: syntax error, unexpected keyword_end, expecting end-of-input
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:15:00 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 21ms (ActiveRecord: 2.1ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:15:02 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 16:15:03 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.2ms)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/survivors_controller.rb:48:in `flag_infected'
Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 17:11:09 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 95ms (ActiveRecord: 2.7ms)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/inventories_controller.rb:24:in `create'
Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 17:13:56 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 13ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 17:15:31 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 13ms (Views: 0.2ms | ActiveRecord: 1.6ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 17:15:43 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 17:15:45 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/survivors_controller.rb:54:in `flag_infected'
Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-10 17:17:20 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-10 19:17:20 UTC], ["id", 1]]
  [1m[35m (138.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 160ms (Views: 1.4ms | ActiveRecord: 140.5ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 17:17:31 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 1], ["created_at", 2016-11-10 19:17:31 UTC], ["updated_at", 2016-11-10 19:17:31 UTC]]
  [1m[35m (188.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 218ms (Views: 0.9ms | ActiveRecord: 190.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 17:17:36 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 17:17:36 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 17:17:37 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-10 19:17:37 UTC], ["id", 1]]
  [1m[35m (89.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 4]]
  [1m[35m (94.6ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 199ms (ActiveRecord: 186.7ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 17:17:41 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms)


Started GET "/survivors/trade" for 127.0.0.1 at 2016-11-10 17:20:55 -0200
Processing by SurvivorsController#show as */*
  Parameters: {"id"=>"trade"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 0], ["LIMIT", 1]]
Completed 404 Not Found in 9ms (ActiveRecord: 1.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find Survivor with 'id'=trade):
  
app/controllers/survivors_controller.rb:76:in `set_survivor'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:21:53 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find Survivor with 'id'=):
  
app/controllers/survivors_controller.rb:34:in `trade'
Started GET "/survivors" for 127.0.0.1 at 2016-11-10 17:22:10 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 24ms (Views: 23.3ms | ActiveRecord: 0.5ms)


Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:22:16 -0200
Processing by SurvivorsController#trade as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find Survivor with 'id'=):
  
app/controllers/survivors_controller.rb:34:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:22:41 -0200
Processing by SurvivorsController#trade as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 11ms (ActiveRecord: 2.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Survivor with 'id'=):
  
app/controllers/survivors_controller.rb:34:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:22:42 -0200
Processing by SurvivorsController#trade as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find Survivor with 'id'=):
  
app/controllers/survivors_controller.rb:34:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:23:03 -0200
Processing by SurvivorsController#trade as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 18ms (ActiveRecord: 1.5ms)


Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:29:35 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 28ms (ActiveRecord: 2.7ms)


  
NoMethodError (undefined method `water' for nil:NilClass):
  
app/controllers/survivors_controller.rb:36:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:30:00 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 204 No Content in 24ms (ActiveRecord: 2.6ms)


Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:30:26 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 15ms (ActiveRecord: 1.1ms)


Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:30:38 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 27ms (ActiveRecord: 2.1ms)


  
NoMethodError (undefined method `water' for nil:NilClass):
  
app/controllers/survivors_controller.rb:37:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:30:51 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:37: syntax error, unexpected tSTRING_BEG, expecting '('
    puts(@survivor.inventory."water")
                              ^
/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:37: syntax error, unexpected ')', expecting keyword_end
/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:87: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/survivors_controller.rb:37: syntax error, unexpected tSTRING_BEG, expecting '('
app/controllers/survivors_controller.rb:37: syntax error, unexpected ')', expecting keyword_end
app/controllers/survivors_controller.rb:87: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:34:11 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 84ms (ActiveRecord: 2.1ms)


  
NoMethodError (undefined method `attr_acessible' for #<Class:0x0000000422b420>
Did you mean?  attr_accessor):
  
app/models/inventory.rb:2:in `<class:Inventory>'
app/models/inventory.rb:1:in `<top (required)>'
app/controllers/survivors_controller.rb:37:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:34:36 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 92ms (ActiveRecord: 2.8ms)


  
NoMethodError (undefined method `attr_acessor' for #<Class:0x007fa79c6d53f8>
Did you mean?  attr_accessor
               mattr_accessor
               cattr_accessor):
  
app/models/inventory.rb:2:in `<class:Inventory>'
app/models/inventory.rb:1:in `<top (required)>'
app/controllers/survivors_controller.rb:37:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:34:55 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.4ms)


  
NoMethodError (undefined method `water' for nil:NilClass):
  
app/controllers/survivors_controller.rb:37:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:35:10 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 78ms (ActiveRecord: 2.0ms)


  
NoMethodError (undefined method `attr_accessible' for #<Class:0x007fa79c4a62a8>
Did you mean?  attr_accessor):
  
app/models/inventory.rb:2:in `<class:Inventory>'
app/models/inventory.rb:1:in `<top (required)>'
app/controllers/survivors_controller.rb:37:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:37:52 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 24ms (ActiveRecord: 2.7ms)


  
NoMethodError (undefined method `water' for nil:NilClass):
  
app/controllers/survivors_controller.rb:37:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:38:05 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 20ms (ActiveRecord: 1.7ms)


Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:38:20 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.5ms)


  
NoMethodError (undefined method `name' for nil:NilClass):
  
app/controllers/survivors_controller.rb:37:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:39:19 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 404 Not Found in 25ms (ActiveRecord: 2.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Inventory with 'id'=1):
  
app/controllers/survivors_controller.rb:37:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:41:19 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 24ms (ActiveRecord: 2.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find Inventory with 'id'=):
  
app/controllers/survivors_controller.rb:38:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:42:45 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.6ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 26ms (ActiveRecord: 3.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find Inventory with 'id'=):
  
app/controllers/survivors_controller.rb:38:in `trade'
Started GET "/survivors/1/inventories/1" for 127.0.0.1 at 2016-11-10 17:43:02 -0200
  
ActionController::RoutingError (No route matches [GET] "/survivors/1/inventories/1"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started GET "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 17:43:05 -0200
  
ActionController::RoutingError (No route matches [GET] "/survivors/1/inventories"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started GET "/inventories" for 127.0.0.1 at 2016-11-10 17:43:12 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 17:43:24 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-10 17:43:35 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-10 19:43:35 UTC], ["id", 1]]
  [1m[35m (96.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 105ms (Views: 0.9ms | ActiveRecord: 98.1ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-10 17:43:38 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>1}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (3.5ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 1], ["created_at", 2016-11-10 19:43:38 UTC], ["updated_at", 2016-11-10 19:43:38 UTC]]
  [1m[35m (169.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 204ms (Views: 0.7ms | ActiveRecord: 173.5ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-10 17:43:40 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.5ms)


Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:43:56 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 24ms (ActiveRecord: 2.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Inventory with 'id'=):
  
app/controllers/survivors_controller.rb:38:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:44:02 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find Inventory with 'id'=):
  
app/controllers/survivors_controller.rb:38:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:44:41 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 37ms (ActiveRecord: 3.9ms)


  
ActiveRecord::RecordNotFound (Couldn't find Inventory with 'id'=):
  
app/controllers/survivors_controller.rb:40:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:45:38 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find Inventory with 'id'=):
  
app/controllers/survivors_controller.rb:40:in `trade'
Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:47:30 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 204 No Content in 41ms (ActiveRecord: 2.8ms)


Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:47:48 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 204 No Content in 38ms (ActiveRecord: 2.4ms)


Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:48:09 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 204 No Content in 39ms (ActiveRecord: 2.7ms)


Started GET "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 17:52:05 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 36ms (ActiveRecord: 3.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Survivor with 'id'=):
  
app/controllers/survivors_controller.rb:40:in `trade'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-10 17:56:23 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 46ms (ActiveRecord: 1.8ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:09:07 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#trade as */*
  Parameters: {"_json"=>2, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 73ms (ActiveRecord: 2.0ms)


  
NoMethodError (undefined method `water' for nil:NilClass):
  
app/controllers/survivors_controller.rb:41:in `trade'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:09:34 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"_json"=>2, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 37ms (ActiveRecord: 3.8ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:11:46 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"_json"=>2, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 28ms (ActiveRecord: 2.6ms)


Started POST "/survivors/2/inventories" for 127.0.0.1 at 2016-11-10 18:12:49 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_1", "water"=>10, "food"=>5, "medical_kits"=>5, "ammo"=>50}, "survivor_id"=>"2"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 2], ["name", "inventory_1"], ["water", 10], ["food", 5], ["medical_kits", 5], ["ammo", 50], ["created_at", 2016-11-10 20:12:49 UTC], ["updated_at", 2016-11-10 20:12:49 UTC]]
  [1m[35m (93.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 213ms (Views: 1.3ms | ActiveRecord: 98.8ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:14:01 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"_json"=>2, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 5ms (ActiveRecord: 0.5ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:14:42 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"_json"=>2, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 27ms (ActiveRecord: 2.3ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:15:00 -0200
Error occurred while parsing request parameters.
Contents:

2water
  
ActionDispatch::ParamsParser::ParseError (822: unexpected token at 'water'):
  
actionpack (5.0.0.1) lib/action_dispatch/http/parameters.rb:71:in `rescue in parse_formatted_parameters'
actionpack (5.0.0.1) lib/action_dispatch/http/parameters.rb:65:in `parse_formatted_parameters'
actionpack (5.0.0.1) lib/action_dispatch/http/request.rb:366:in `block in POST'
rack (2.0.1) lib/rack/request.rb:57:in `fetch'
rack (2.0.1) lib/rack/request.rb:57:in `fetch_header'
actionpack (5.0.0.1) lib/action_dispatch/http/request.rb:365:in `POST'
actionpack (5.0.0.1) lib/action_controller/metal/params_wrapper.rb:282:in `_wrapper_enabled?'
actionpack (5.0.0.1) lib/action_controller/metal/params_wrapper.rb:231:in `process_action'
activerecord (5.0.0.1) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (5.0.0.1) lib/abstract_controller/base.rb:126:in `process'
actionpack (5.0.0.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0.1) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0.1) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0.1) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0.1) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0.1) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
activerecord (5.0.0.1) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:16:10 -0200
Error occurred while parsing request parameters.
Contents:

2water
  
ActionDispatch::ParamsParser::ParseError (822: unexpected token at 'water'):
  
actionpack (5.0.0.1) lib/action_dispatch/http/parameters.rb:71:in `rescue in parse_formatted_parameters'
actionpack (5.0.0.1) lib/action_dispatch/http/parameters.rb:65:in `parse_formatted_parameters'
actionpack (5.0.0.1) lib/action_dispatch/http/request.rb:366:in `block in POST'
rack (2.0.1) lib/rack/request.rb:57:in `fetch'
rack (2.0.1) lib/rack/request.rb:57:in `fetch_header'
actionpack (5.0.0.1) lib/action_dispatch/http/request.rb:365:in `POST'
actionpack (5.0.0.1) lib/action_controller/metal/params_wrapper.rb:282:in `_wrapper_enabled?'
actionpack (5.0.0.1) lib/action_controller/metal/params_wrapper.rb:231:in `process_action'
activerecord (5.0.0.1) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (5.0.0.1) lib/abstract_controller/base.rb:126:in `process'
actionpack (5.0.0.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0.1) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0.1) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0.1) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0.1) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0.1) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
activerecord (5.0.0.1) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:16:35 -0200
Error occurred while parsing request parameters.
Contents:

2"water"
  
ActionDispatch::ParamsParser::ParseError (822: unexpected token at '"water"'):
  
actionpack (5.0.0.1) lib/action_dispatch/http/parameters.rb:71:in `rescue in parse_formatted_parameters'
actionpack (5.0.0.1) lib/action_dispatch/http/parameters.rb:65:in `parse_formatted_parameters'
actionpack (5.0.0.1) lib/action_dispatch/http/request.rb:366:in `block in POST'
rack (2.0.1) lib/rack/request.rb:57:in `fetch'
rack (2.0.1) lib/rack/request.rb:57:in `fetch_header'
actionpack (5.0.0.1) lib/action_dispatch/http/request.rb:365:in `POST'
actionpack (5.0.0.1) lib/action_controller/metal/params_wrapper.rb:282:in `_wrapper_enabled?'
actionpack (5.0.0.1) lib/action_controller/metal/params_wrapper.rb:231:in `process_action'
activerecord (5.0.0.1) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (5.0.0.1) lib/abstract_controller/base.rb:126:in `process'
actionpack (5.0.0.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0.1) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0.1) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0.1) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0.1) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0.1) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
activerecord (5.0.0.1) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:17:12 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"_json"=>2, "id"=>"1", "survivor"=>{}}
Completed 500 Internal Server Error in 71ms (ActiveRecord: 1.2ms)


  
NameError (undefined local variable or method `integer' for #<SurvivorsController:0x00000003dc6da8>
Did you mean?  Integer):
  
app/controllers/survivors_controller.rb:35:in `trade'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:25:46 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1", "item_trade"=>"water", "survivor"=>{"id"=>"1"}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 204 No Content in 29ms (ActiveRecord: 3.0ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:26:32 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1", "item_trade"=>"water", "survivor"=>{"id"=>"1"}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 34ms (ActiveRecord: 2.9ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:26:48 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"id"=>"1", "item_trade"=>"water", "survivor"=>{"id"=>"1"}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 34ms (ActiveRecord: 2.6ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-10 18:30:36 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 24ms (Views: 18.1ms | ActiveRecord: 1.5ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:38:57 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 43ms (ActiveRecord: 3.7ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:42:31 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 30ms (ActiveRecord: 2.8ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:50:41 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 28ms (ActiveRecord: 2.8ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 18:50:53 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 40ms (ActiveRecord: 3.5ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 21:48:38 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 136ms (ActiveRecord: 3.5ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-10 21:59:13 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 15ms (Views: 10.4ms | ActiveRecord: 1.1ms)


Started GET "/favicon.ico" for 127.0.0.1 at 2016-11-10 21:59:13 -0200
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started GET "/inventories" for 127.0.0.1 at 2016-11-10 21:59:54 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 0.8ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 22:14:51 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 31ms (ActiveRecord: 2.7ms)


  
ArgumentError (bad value for range):
  
app/controllers/survivors_controller.rb:74:in `trade'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 22:16:53 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed   in 7112ms (ActiveRecord: 2.8ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 22:17:18 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed   in 1820ms (ActiveRecord: 2.4ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 22:18:44 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:146: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/controllers/survivors_controller.rb:146: syntax error, unexpected keyword_end, expecting end-of-input
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 22:19:40 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:146: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/controllers/survivors_controller.rb:146: syntax error, unexpected keyword_end, expecting end-of-input
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 22:20:32 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 38ms (ActiveRecord: 2.4ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 22:23:00 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed   in 5943ms (ActiveRecord: 3.7ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 22:23:39 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 42ms (ActiveRecord: 2.0ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 22:26:32 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:145: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/survivors_controller.rb:145: syntax error, unexpected end-of-input, expecting keyword_end
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 22:26:55 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:145: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/survivors_controller.rb:145: syntax error, unexpected end-of-input, expecting keyword_end
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 22:27:37 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 38ms (ActiveRecord: 4.1ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 22:28:06 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 38ms (ActiveRecord: 4.1ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-10 22:29:21 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 32ms (ActiveRecord: 2.8ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:10:20 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 144ms (ActiveRecord: 3.2ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:14:17 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 35ms (ActiveRecord: 3.4ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:15:08 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 36ms (ActiveRecord: 3.3ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:19:21 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:23:39 -0200
Completed   in 415063ms (ActiveRecord: 3.1ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:26:22 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 41ms (ActiveRecord: 2.1ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:27:35 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 36ms (ActiveRecord: 3.7ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:27:48 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 37ms (ActiveRecord: 3.7ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:35:32 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 41ms (ActiveRecord: 2.0ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:36:09 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 7ms (ActiveRecord: 0.9ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:36:23 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 41ms (ActiveRecord: 2.0ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:36:59 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 8ms (ActiveRecord: 0.8ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:37:18 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 37ms (ActiveRecord: 3.9ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:38:03 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 33ms (ActiveRecord: 2.8ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:41:41 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 74ms (ActiveRecord: 3.7ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:46:35 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (68.9ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 5], ["updated_at", 2016-11-11 09:46:35 UTC], ["id", 6]]
  [1m[35m (112.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", 1], ["updated_at", 2016-11-11 09:46:36 UTC], ["id", 6]]
  [1m[35m (73.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "medical_kits" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["medical_kits", nil], ["updated_at", 2016-11-11 09:46:36 UTC], ["id", 5]]
  [1m[35m (128.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", nil], ["updated_at", 2016-11-11 09:46:36 UTC], ["id", 6]]
  [1m[35m (102.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", nil], ["updated_at", 2016-11-11 09:46:36 UTC], ["id", 5]]
  [1m[35m (79.4ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 636ms (ActiveRecord: 571.2ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 07:46:49 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.4ms)


Started GET "/favicon.ico" for 127.0.0.1 at 2016-11-11 07:46:50 -0200
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started DELETE "/inventories/5" for 127.0.0.1 at 2016-11-11 07:53:11 -0200
  
ActionController::RoutingError (No route matches [DELETE] "/inventories/5"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 07:54:08 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 19ms (ActiveRecord: 2.5ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 07:54:09 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 07:54:10 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-11 09:54:10 UTC], ["id", 1]]
  [1m[35m (194.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 5]]
  [1m[35m (123.3ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 369ms (ActiveRecord: 321.9ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-11 07:54:24 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-11 09:54:24 UTC], ["id", 1]]
  [1m[35m (89.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 105ms (Views: 1.5ms | ActiveRecord: 91.9ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-11 07:54:41 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 07:54:52 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 4ms (ActiveRecord: 0.5ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 07:54:53 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 07:54:54 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-11 09:54:54 UTC], ["id", 2]]
  [1m[35m (184.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 6]]
  [1m[35m (103.6ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 302ms (ActiveRecord: 290.4ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-11 07:55:06 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.4ms)


Started PATCH "/survivors/2" for 127.0.0.1 at 2016-11-11 07:55:39 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"2"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-11 09:55:39 UTC], ["id", 2]]
  [1m[35m (178.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 188ms (Views: 1.3ms | ActiveRecord: 180.5ms)


Started POST "/survivors/2/inventories" for 127.0.0.1 at 2016-11-11 07:55:59 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_1", "water"=>10, "food"=>5, "medical_kits"=>5, "ammo"=>50}, "survivor_id"=>"2"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 2], ["name", "inventory_1"], ["water", 10], ["food", 5], ["medical_kits", 5], ["ammo", 50], ["created_at", 2016-11-11 09:55:59 UTC], ["updated_at", 2016-11-11 09:55:59 UTC]]
  [1m[35m (96.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 247ms (Views: 1.5ms | ActiveRecord: 99.2ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-11 07:58:47 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 0], ["created_at", 2016-11-11 09:58:47 UTC], ["updated_at", 2016-11-11 09:58:47 UTC]]
  [1m[35m (188.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 206ms (Views: 1.6ms | ActiveRecord: 189.9ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 07:59:01 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 5], ["updated_at", 2016-11-11 09:59:01 UTC], ["id", 7]]
  [1m[35m (157.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", 1], ["updated_at", 2016-11-11 09:59:01 UTC], ["id", 7]]
  [1m[35m (91.4ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 269ms (ActiveRecord: 250.6ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 07:59:13 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.4ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 08:07:58 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 16ms (ActiveRecord: 1.9ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 08:07:58 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 08:07:59 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-11 10:07:59 UTC], ["id", 2]]
  [1m[35m (170.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 7]]
  [1m[35m (110.0ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 325ms (ActiveRecord: 285.4ms)


Started PATCH "/survivors/2" for 127.0.0.1 at 2016-11-11 08:08:02 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"2"}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-11 10:08:02 UTC], ["id", 2]]
  [1m[35m (161.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 173ms (Views: 1.5ms | ActiveRecord: 163.6ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-11 08:08:09 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 11ms (ActiveRecord: 0.7ms)


  
ActiveRecord::RecordNotSaved (Failed to remove the existing associated inventory. The record failed to save after its foreign key was set to nil.):
  
app/controllers/inventories_controller.rb:16:in `create'
Started GET "/inventories" for 127.0.0.1 at 2016-11-11 08:08:35 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 08:08:38 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.5ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-11 08:08:44 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.3ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-11 08:08:54 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 9ms (ActiveRecord: 0.7ms)


  
ActiveRecord::RecordNotSaved (Failed to remove the existing associated inventory. The record failed to save after its foreign key was set to nil.):
  
app/controllers/inventories_controller.rb:16:in `create'
Started POST "/survivors/2/inventories" for 127.0.0.1 at 2016-11-11 08:09:17 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"2"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 2], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 0], ["created_at", 2016-11-11 10:09:17 UTC], ["updated_at", 2016-11-11 10:09:17 UTC]]
  [1m[35m (175.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 199ms (Views: 1.2ms | ActiveRecord: 177.5ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 08:09:45 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:167: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/survivors_controller.rb:167: syntax error, unexpected end-of-input, expecting keyword_end
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 08:10:05 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 15ms (ActiveRecord: 1.9ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 08:10:06 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 08:10:06 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-11 10:10:06 UTC], ["id", 2]]
  [1m[35m (174.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (2.2ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 9]]
  [1m[35m (100.5ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 317ms (ActiveRecord: 280.1ms)


Started PATCH "/survivors/2" for 127.0.0.1 at 2016-11-11 08:10:09 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"2"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-11 10:10:09 UTC], ["id", 2]]
  [1m[35m (88.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 99ms (Views: 1.3ms | ActiveRecord: 89.1ms)


Started POST "/survivors/2/inventories" for 127.0.0.1 at 2016-11-11 08:10:29 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_1", "water"=>10, "food"=>1, "medical_kits"=>5, "ammo"=>50}, "survivor_id"=>"2"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 2], ["name", "inventory_1"], ["water", 10], ["food", 1], ["medical_kits", 5], ["ammo", 50], ["created_at", 2016-11-11 10:10:29 UTC], ["updated_at", 2016-11-11 10:10:29 UTC]]
  [1m[35m (167.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 185ms (Views: 1.2ms | ActiveRecord: 168.4ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-11 08:15:37 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 16ms (Views: 11.2ms | ActiveRecord: 1.2ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 08:15:42 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 20ms (Views: 14.8ms | ActiveRecord: 1.3ms)


Started GET "/stats/avg_items_p_s" for 127.0.0.1 at 2016-11-11 08:36:30 -0200
  
ActionController::RoutingError (No route matches [GET] "/stats/avg_items_p_s"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:36:44 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:4: syntax error, unexpected '{', expecting keyword_end
/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:34: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/stats_controller.rb:4: syntax error, unexpected '{', expecting keyword_end
app/controllers/stats_controller.rb:34: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/survivors" for 127.0.0.1 at 2016-11-11 08:42:36 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 17ms (Views: 11.5ms | ActiveRecord: 1.3ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:42:37 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:4: syntax error, unexpected '{', expecting keyword_end
/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:33: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/stats_controller.rb:4: syntax error, unexpected '{', expecting keyword_end
app/controllers/stats_controller.rb:33: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:43:14 -0200
Processing by StatsController#index as HTML
Completed 500 Internal Server Error in 60ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `infected' for #<StatsController:0x0000000401c620>):
  
app/controllers/stats_controller.rb:5:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:49:31 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.6ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 500 Internal Server Error in 87ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `survivors' for #<StatsController:0x007fab5c11b200>
Did you mean?  @survivors):
  
app/controllers/stats_controller.rb:19:in `infected'
app/controllers/stats_controller.rb:5:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:50:08 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `infected?' for #<Survivor::ActiveRecord_Relation:0x00000003c9b7a8>
Did you mean?  inject):
  
app/controllers/stats_controller.rb:19:in `infected'
app/controllers/stats_controller.rb:5:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:50:58 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:19: syntax error, unexpected tSTRING_BEG, expecting '('
  	if(@survivors."infected?" == true)
  	               ^
/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:30: syntax error, unexpected tSTRING_BEG, expecting '('
  	if(@survivors."infected?" == false)
  	               ^):
  
app/controllers/stats_controller.rb:19: syntax error, unexpected tSTRING_BEG, expecting '('
app/controllers/stats_controller.rb:30: syntax error, unexpected tSTRING_BEG, expecting '('
Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:51:41 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:19: syntax error, unexpected '[', expecting '('
  	if(@survivors.['infected?'] == true)
  	               ^
/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:19: syntax error, unexpected ']', expecting ')'
  	if(@survivors.['infected?'] == true)
  	                           ^
/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:30: syntax error, unexpected '[', expecting '('
  	if(@survivors.['infected?'] == false)
  	               ^
/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:30: syntax error, unexpected ']', expecting ')'
  	if(@survivors.['infected?'] == false)
  	                           ^):
  
app/controllers/stats_controller.rb:19: syntax error, unexpected '[', expecting '('
app/controllers/stats_controller.rb:19: syntax error, unexpected ']', expecting ')'
app/controllers/stats_controller.rb:30: syntax error, unexpected '[', expecting '('
app/controllers/stats_controller.rb:30: syntax error, unexpected ']', expecting ')'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:52:10 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:19: syntax error, unexpected '[', expecting '('
  	if(@survivors.['infected?'] == true)
  	               ^
/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:19: syntax error, unexpected ']', expecting ')'
  	if(@survivors.['infected?'] == true)
  	                           ^
/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:30: syntax error, unexpected '[', expecting '('
  	if(@survivors.['infected?'] == false)
  	               ^
/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:30: syntax error, unexpected ']', expecting ')'
  	if(@survivors.['infected?'] == false)
  	                           ^):
  
app/controllers/stats_controller.rb:19: syntax error, unexpected '[', expecting '('
app/controllers/stats_controller.rb:19: syntax error, unexpected ']', expecting ')'
app/controllers/stats_controller.rb:30: syntax error, unexpected '[', expecting '('
app/controllers/stats_controller.rb:30: syntax error, unexpected ']', expecting ')'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:52:34 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.6ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `call' for #<Survivor::ActiveRecord_Relation:0x00000004ea9b20>
Did you mean?  caller):
  
app/controllers/stats_controller.rb:19:in `infected'
app/controllers/stats_controller.rb:5:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:53:15 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 17ms (Views: 11.7ms | ActiveRecord: 1.3ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:54:02 -0200
Processing by StatsController#index as HTML
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
TypeError (no implicit conversion of Survivor::ActiveRecord_Relation into String):
  
app/controllers/stats_controller.rb:17:in `infected'
app/controllers/stats_controller.rb:5:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:54:29 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 500 Internal Server Error in 67ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `survivors' for #<StatsController:0x000000053dc6b0>
Did you mean?  @survivors):
  
app/controllers/stats_controller.rb:17:in `infected'
app/controllers/stats_controller.rb:5:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:54:41 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.6ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 23ms (Views: 15.4ms | ActiveRecord: 2.1ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:55:33 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `infected?' for #<Survivor::ActiveRecord_Relation:0x00000003ace998>
Did you mean?  inject):
  
app/controllers/stats_controller.rb:17:in `infected'
app/controllers/stats_controller.rb:5:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:55:40 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `attr' for #<Survivor::ActiveRecord_Relation:0x007fab5c1f9aa0>):
  
app/controllers/stats_controller.rb:17:in `infected'
app/controllers/stats_controller.rb:5:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 08:59:18 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.9ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `attributes' for #<Survivor::ActiveRecord_Relation:0x00000004fc0b80>):
  
app/controllers/stats_controller.rb:21:in `non_infected'
app/controllers/stats_controller.rb:6:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:05:12 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", "false"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:06:03 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:06:17 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", "false"]]
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 0.9ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:06:18 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", "false"]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:06:48 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."infected?" = ? LIMIT ?[0m  [["infected?", "false"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.0ms)


  
NoMethodError (undefined method `count' for nil:NilClass):
  
app/controllers/stats_controller.rb:22:in `non_infected'
app/controllers/stats_controller.rb:6:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:07:21 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."infected?" = ? LIMIT ?[0m  [["infected?", "false"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.4ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:07:35 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."infected?" = ? LIMIT ?[0m  [["infected?", "false"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:09:18 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 11ms (ActiveRecord: 1.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Survivor with 'id'={:infected?=>"false"}):
  
app/controllers/stats_controller.rb:21:in `non_infected'
app/controllers/stats_controller.rb:6:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:10:18 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors" WHERE (infected'f')[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: near "'f'": syntax error: SELECT "survivors".* FROM "survivors" WHERE (infected'f')):
  
app/controllers/stats_controller.rb:4:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:10:52 -0200
Processing by StatsController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
ActiveRecord::PreparedStatementInvalid (wrong number of bind variables (1 for 2) in: infected? = ?):
  
app/controllers/stats_controller.rb:21:in `non_infected'
app/controllers/stats_controller.rb:6:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:12:31 -0200
Processing by StatsController#index as HTML
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)


  
ActiveRecord::PreparedStatementInvalid (wrong number of bind variables (1 for 2) in: infected? = ?):
  
app/controllers/stats_controller.rb:21:in `non_infected'
app/controllers/stats_controller.rb:6:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:12:32 -0200
Processing by StatsController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
ActiveRecord::PreparedStatementInvalid (wrong number of bind variables (1 for 2) in: infected? = ?):
  
app/controllers/stats_controller.rb:21:in `non_infected'
app/controllers/stats_controller.rb:6:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:13:21 -0200
Processing by StatsController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
ActiveRecord::PreparedStatementInvalid (wrong number of bind variables (1 for 2) in: infected? = ?):
  
app/controllers/stats_controller.rb:22:in `non_infected'
app/controllers/stats_controller.rb:6:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:14:32 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.6ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors" WHERE (infected = 'f')[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.6ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: infected: SELECT "survivors".* FROM "survivors" WHERE (infected = 'f')):
  
app/controllers/stats_controller.rb:4:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:15:20 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors" WHERE (infected? = false)[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: near "?": syntax error: SELECT "survivors".* FROM "survivors" WHERE (infected? = false)):
  
app/controllers/stats_controller.rb:4:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:16:08 -0200
Processing by StatsController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
ArgumentError (Unsupported argument type: infected? (Symbol)):
  
app/controllers/stats_controller.rb:22:in `non_infected'
app/controllers/stats_controller.rb:6:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:17:14 -0200
Processing by StatsController#index as HTML
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
Completed 200 OK in 19ms (Views: 11.4ms | ActiveRecord: 1.5ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:17:33 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:18:44 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 1.2ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:19:08 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.7ms)


  
TypeError (no implicit conversion of Fixnum into String):
  
app/controllers/stats_controller.rb:21:in `+'
app/controllers/stats_controller.rb:21:in `non_infected'
app/controllers/stats_controller.rb:6:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:19:38 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.5ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:20:20 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:7: syntax error, unexpected tIDENTIFIER, expecting '}'
  	   avg_resources: avg,
  	                ^
/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:33: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/stats_controller.rb:7: syntax error, unexpected tIDENTIFIER, expecting '}'
app/controllers/stats_controller.rb:33: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:20:43 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:7: syntax error, unexpected tIDENTIFIER, expecting '}'
  	   avg_resources: avg,
  	                ^
/home/giovanni/git/zombie_api/app/controllers/stats_controller.rb:33: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/stats_controller.rb:7: syntax error, unexpected tIDENTIFIER, expecting '}'
app/controllers/stats_controller.rb:33: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:21:13 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 500 Internal Server Error in 33ms (ActiveRecord: 1.7ms)


  
NoMethodError (undefined method `Inventory' for #<Survivor::ActiveRecord_Relation:0x007fab5c10b508>):
  
app/controllers/stats_controller.rb:29:in `avg'
app/controllers/stats_controller.rb:7:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:21:21 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.2ms)


  
NoMethodError (undefined method `inventory' for #<Survivor::ActiveRecord_Relation:0x00000004eb7d38>):
  
app/controllers/stats_controller.rb:29:in `avg'
app/controllers/stats_controller.rb:7:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:22:22 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 500 Internal Server Error in 45ms (ActiveRecord: 1.9ms)


  
NoMethodError (undefined method `inventory' for #<Survivor::ActiveRecord_Relation:0x000000030b2518>):
  
app/controllers/stats_controller.rb:29:in `avg'
app/controllers/stats_controller.rb:7:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:22:24 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.1ms)


  
NoMethodError (undefined method `inventory' for #<Survivor::ActiveRecord_Relation:0x007fab5c1b5508>):
  
app/controllers/stats_controller.rb:29:in `avg'
app/controllers/stats_controller.rb:7:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:22:24 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.1ms)


  
NoMethodError (undefined method `inventory' for #<Survivor::ActiveRecord_Relation:0x0000000519bba8>):
  
app/controllers/stats_controller.rb:29:in `avg'
app/controllers/stats_controller.rb:7:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:22:41 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 26ms (Views: 13.7ms | ActiveRecord: 2.4ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:23:05 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 111ms (Views: 27.9ms | ActiveRecord: 3.7ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:23:17 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 500 Internal Server Error in 38ms (ActiveRecord: 1.6ms)


  
NoMethodError (undefined method `water' for #<Inventory::ActiveRecord_Relation:0x007fab5c43c768>):
  
app/controllers/stats_controller.rb:29:in `avg'
app/controllers/stats_controller.rb:7:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:23:56 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 31ms (Views: 15.0ms | ActiveRecord: 3.4ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:27:08 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.6ms)


  
TypeError (Inventory can't be coerced into Fixnum):
  
app/controllers/stats_controller.rb:34:in `/'
app/controllers/stats_controller.rb:34:in `avg'
app/controllers/stats_controller.rb:7:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:27:44 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
Completed 500 Internal Server Error in 30ms (ActiveRecord: 2.0ms)


  
NoMethodError (undefined method `count' for #<Inventory:0x007fab5c3898e8>):
  
app/controllers/stats_controller.rb:32:in `block in avg'
app/controllers/stats_controller.rb:30:in `avg'
app/controllers/stats_controller.rb:7:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:28:31 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
Completed 200 OK in 27ms (Views: 0.6ms | ActiveRecord: 3.0ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:28:54 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
Completed 200 OK in 74ms (Views: 0.2ms | ActiveRecord: 4.3ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:29:07 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
Completed 500 Internal Server Error in 93ms (ActiveRecord: 2.1ms)


  
NameError (undefined local variable or method `survivors_N_inf' for #<StatsController:0x00000003d41388>
Did you mean?  survivors_url):
  
app/controllers/stats_controller.rb:34:in `avg'
app/controllers/stats_controller.rb:7:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:29:24 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 3.2ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:31:10 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
Completed 500 Internal Server Error in 98ms (ActiveRecord: 4.3ms)


  
NameError (undefined local variable or method `temp' for #<StatsController:0x00000004c6c880>):
  
app/controllers/stats_controller.rb:41:in `lost'
app/controllers/stats_controller.rb:8:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:31:20 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
Completed 500 Internal Server Error in 24ms (ActiveRecord: 3.4ms)


  
ZeroDivisionError (divided by 0):
  
app/controllers/stats_controller.rb:41:in `/'
app/controllers/stats_controller.rb:41:in `lost'
app/controllers/stats_controller.rb:8:in `index'
Started GET "/stats" for 127.0.0.1 at 2016-11-11 09:32:39 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 2.9ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 10:28:08 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 27ms (ActiveRecord: 3.4ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 10:37:22 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-11 10:37:24 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.4ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 10:38:26 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 10:44:32 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 32ms (ActiveRecord: 2.9ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 10:44:59 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "medical_kits"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 5ms (ActiveRecord: 0.6ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 10:46:45 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "medical_kits"=>5, "ammo"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 5ms (ActiveRecord: 0.6ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 10:58:45 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "medical_kits"=>5, "ammo"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 31ms (Views: 0.3ms | ActiveRecord: 2.8ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 10:59:12 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (69.7ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 5], ["updated_at", 2016-11-11 12:59:12 UTC], ["id", 10]]
  [1m[35m (122.0ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 203ms (ActiveRecord: 192.3ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 10:59:18 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 18:18:58 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 146ms (ActiveRecord: 3.1ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 18:19:18 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms)


Started GET "/favicon.ico" for 127.0.0.1 at 2016-11-11 18:19:21 -0200
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 18:19:41 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 18:19:43 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 18:19:43 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (160.9ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-11 20:19:43 UTC], ["id", 2]]
  [1m[35m (140.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 10]]
  [1m[35m (147.0ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 464ms (ActiveRecord: 449.3ms)


Started PATCH "/survivors/2" for 127.0.0.1 at 2016-11-11 18:19:52 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"2"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-11 20:19:52 UTC], ["id", 2]]
  [1m[35m (119.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 132ms (Views: 1.5ms | ActiveRecord: 121.6ms)


Started POST "/survivors/2/inventories" for 127.0.0.1 at 2016-11-11 18:20:21 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_1", "water"=>10, "food"=>1, "medical_kits"=>5, "ammo"=>50}, "survivor_id"=>"2"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 2], ["name", "inventory_1"], ["water", 10], ["food", 1], ["medical_kits", 5], ["ammo", 50], ["created_at", 2016-11-11 20:20:21 UTC], ["updated_at", 2016-11-11 20:20:21 UTC]]
  [1m[35m (126.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 310ms (Views: 1.3ms | ActiveRecord: 132.4ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-11 18:20:30 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 5], ["updated_at", 2016-11-11 20:20:30 UTC], ["id", 11]]
  [1m[35m (190.5ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 203ms (ActiveRecord: 192.4ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 18:20:35 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 18:20:36 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 18:20:36 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 18:20:37 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.4ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 18:20:41 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 18:20:42 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-11 18:20:42 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-11 20:20:42 UTC], ["id", 2]]
  [1m[35m (187.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.2ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 11]]
  [1m[35m (148.5ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 351ms (ActiveRecord: 338.6ms)


Started PATCH "/survivors/2" for 127.0.0.1 at 2016-11-11 18:20:47 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"2"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-11 20:20:47 UTC], ["id", 2]]
  [1m[35m (190.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 199ms (Views: 1.2ms | ActiveRecord: 190.9ms)


Started POST "/survivors/2/inventories" for 127.0.0.1 at 2016-11-11 18:20:56 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_1", "water"=>10, "food"=>1, "medical_kits"=>5, "ammo"=>50}, "survivor_id"=>"2"}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 2], ["name", "inventory_1"], ["water", 10], ["food", 1], ["medical_kits", 5], ["ammo", 50], ["created_at", 2016-11-11 20:20:56 UTC], ["updated_at", 2016-11-11 20:20:56 UTC]]
  [1m[35m (201.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 220ms (Views: 1.2ms | ActiveRecord: 203.5ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 18:21:01 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.5ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 18:21:02 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.8ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-11 18:21:02 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.2ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:38:32 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 95ms (ActiveRecord: 2.3ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:38:54 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "medical_kits"=>10, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 6ms (ActiveRecord: 0.6ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:39:10 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "medical_kits"=>10, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 33ms (ActiveRecord: 2.5ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 14:40:09 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 17ms (Views: 12.0ms | ActiveRecord: 1.3ms)


Started GET "/favicon.ico" for 127.0.0.1 at 2016-11-14 14:40:09 -0200
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:47:58 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:78: syntax error, unexpected keyword_do, expecting keyword_end
        (1..inventory_1[0]) do |i|
                              ^
/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:82: syntax error, unexpected keyword_do, expecting keyword_end
        (1..inventory_1[1]) do |i|
                              ^
/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:86: syntax error, unexpected keyword_do, expecting keyword_end
        (1..inventory[2]) do |i|
                            ^
/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:90: syntax error, unexpected keyword_do, expecting keyword_end
        (1..inventory_1[3]) do |i|
                              ^
/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:94: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/controllers/survivors_controller.rb:78: syntax error, unexpected keyword_do, expecting keyword_end
app/controllers/survivors_controller.rb:82: syntax error, unexpected keyword_do, expecting keyword_end
app/controllers/survivors_controller.rb:86: syntax error, unexpected keyword_do, expecting keyword_end
app/controllers/survivors_controller.rb:90: syntax error, unexpected keyword_do, expecting keyword_end
app/controllers/survivors_controller.rb:94: syntax error, unexpected keyword_end, expecting end-of-input
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:50:36 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 114ms (ActiveRecord: 2.7ms)


  
NameError (undefined local variable or method `inventory' for #<SurvivorsController:0x0000000217d700>
Did you mean?  inventory_2
               inventory_1):
  
app/controllers/survivors_controller.rb:86:in `trade'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:50:58 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:51:25 -0200
Completed   in 173198ms (ActiveRecord: 2.3ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:53:58 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:136: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/controllers/survivors_controller.rb:136: syntax error, unexpected keyword_end, expecting end-of-input
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:54:25 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 44ms (ActiveRecord: 2.9ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:55:04 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:77: syntax error, unexpected keyword_do, expecting keyword_end
      (1..inventory_1[0]) do |i|
                            ^
/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:136: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/controllers/survivors_controller.rb:77: syntax error, unexpected keyword_do, expecting keyword_end
app/controllers/survivors_controller.rb:136: syntax error, unexpected keyword_end, expecting end-of-input
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:55:28 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 33ms (ActiveRecord: 3.3ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:55:38 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 27ms (ActiveRecord: 2.3ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:56:46 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 25ms (ActiveRecord: 2.1ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:56:56 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 31ms (ActiveRecord: 3.1ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 14:57:33 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 27ms (ActiveRecord: 2.2ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:09:29 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 32ms (ActiveRecord: 2.9ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:12:34 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 37ms (ActiveRecord: 2.9ms)


  
NoMethodError (undefined method `[]=' for 0:Fixnum
Did you mean?  []):
  
app/controllers/survivors_controller.rb:79:in `block in trade'
app/controllers/survivors_controller.rb:78:in `upto'
app/controllers/survivors_controller.rb:78:in `trade'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:15:36 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 28ms (ActiveRecord: 2.3ms)


  
TypeError (nil can't be coerced into Fixnum):
  
app/controllers/survivors_controller.rb:95:in `+'
app/controllers/survivors_controller.rb:95:in `trade'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:17:39 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 30ms (ActiveRecord: 2.4ms)


  
TypeError (nil can't be coerced into Fixnum):
  
app/controllers/survivors_controller.rb:97:in `+'
app/controllers/survivors_controller.rb:97:in `trade'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:17:51 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 31ms (ActiveRecord: 3.8ms)


  
TypeError (nil can't be coerced into Fixnum):
  
app/controllers/survivors_controller.rb:97:in `+'
app/controllers/survivors_controller.rb:97:in `trade'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:19:44 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 36ms (ActiveRecord: 3.3ms)


  
TypeError (nil can't be coerced into Fixnum):
  
app/controllers/survivors_controller.rb:96:in `+'
app/controllers/survivors_controller.rb:96:in `trade'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:20:59 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 34ms (ActiveRecord: 3.0ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:21:42 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 5ms (ActiveRecord: 0.5ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:21:56 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 42ms (ActiveRecord: 2.1ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:23:21 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 27ms (ActiveRecord: 2.3ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:23:49 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 33ms (ActiveRecord: 3.0ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:28:01 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 27ms (ActiveRecord: 2.3ms)


  
TypeError (no implicit conversion of Enumerator into Integer):
  
app/controllers/survivors_controller.rb:107:in `[]'
app/controllers/survivors_controller.rb:107:in `trade'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:28:27 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 50ms (ActiveRecord: 3.5ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:30:18 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 35ms (ActiveRecord: 3.3ms)


  
TypeError (nil can't be coerced into Fixnum):
  
app/controllers/survivors_controller.rb:96:in `+'
app/controllers/survivors_controller.rb:96:in `trade'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:31:08 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 31ms (ActiveRecord: 2.7ms)


  
NoMethodError (undefined method `/' for nil:NilClass):
  
app/controllers/survivors_controller.rb:109:in `trade'
Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:32:35 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.6ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.7ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 37ms (ActiveRecord: 3.5ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:32:49 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 29ms (ActiveRecord: 2.5ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:42:33 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 30ms (ActiveRecord: 2.9ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:42:55 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.6ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 30ms (ActiveRecord: 2.9ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:46:35 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 0], ["updated_at", 2016-11-14 17:46:35 UTC], ["id", 8]]
  [1m[35m (119.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", 0], ["updated_at", 2016-11-14 17:46:35 UTC], ["id", 8]]
  [1m[35m (124.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", 23], ["updated_at", 2016-11-14 17:46:35 UTC], ["id", 8]]
  [1m[35m (84.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 15], ["updated_at", 2016-11-14 17:46:35 UTC], ["id", 12]]
  [1m[35m (83.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", 2], ["updated_at", 2016-11-14 17:46:35 UTC], ["id", 12]]
  [1m[35m (96.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", 27], ["updated_at", 2016-11-14 17:46:36 UTC], ["id", 12]]
  [1m[35m (87.2ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 665ms (ActiveRecord: 602.2ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 15:46:45 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.3ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 15:47:52 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>1, "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 5], ["updated_at", 2016-11-14 17:47:52 UTC], ["id", 8]]
  [1m[35m (95.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", 1], ["updated_at", 2016-11-14 17:47:52 UTC], ["id", 8]]
  [1m[35m (72.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", 0], ["updated_at", 2016-11-14 17:47:52 UTC], ["id", 8]]
  [1m[35m (115.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", -5], ["updated_at", 2016-11-14 17:47:52 UTC], ["id", 8]]
  [1m[35m (80.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", -1], ["updated_at", 2016-11-14 17:47:52 UTC], ["id", 8]]
  [1m[35m (85.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", 46], ["updated_at", 2016-11-14 17:47:52 UTC], ["id", 8]]
  [1m[35m (92.7ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 587ms (ActiveRecord: 545.1ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 15:47:54 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 15:49:48 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.8ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 16ms (Views: 11.4ms | ActiveRecord: 1.6ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 15:49:59 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.8ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 22ms (ActiveRecord: 2.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 15:49:59 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 15:50:00 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-14 17:50:00 UTC], ["id", 2]]
  [1m[35m (135.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 12]]
  [1m[35m (104.2ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 256ms (ActiveRecord: 241.9ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 15:50:14 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms)


Started PATCH "/survivors/2" for 127.0.0.1 at 2016-11-14 15:50:42 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"2"}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-14 17:50:42 UTC], ["id", 2]]
  [1m[35m (86.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 95ms (Views: 0.7ms | ActiveRecord: 87.4ms)


Started POST "/survivors/2/inventories" for 127.0.0.1 at 2016-11-14 15:50:51 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_1", "water"=>10, "food"=>1, "medical_kits"=>5, "ammo"=>50}, "survivor_id"=>"2"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 2], ["name", "inventory_1"], ["water", 10], ["food", 1], ["medical_kits", 5], ["ammo", 50], ["created_at", 2016-11-14 17:50:51 UTC], ["updated_at", 2016-11-14 17:50:51 UTC]]
  [1m[35m (87.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 195ms (Views: 1.0ms | ActiveRecord: 89.9ms)


Started POST "/survivors/1/flag_infected" for 127.0.0.1 at 2016-11-14 15:51:11 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)


Started POST "/survivors/1/flag_infected" for 127.0.0.1 at 2016-11-14 15:51:12 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)


Started POST "/survivors/1/flag_infected" for 127.0.0.1 at 2016-11-14 15:51:12 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-14 17:51:12 UTC], ["id", 2]]
  [1m[35m (97.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 13]]
  [1m[35m (95.7ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 210ms (ActiveRecord: 195.8ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 15:51:15 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.5ms)


Started POST "/survivors/2/inventories" for 127.0.0.1 at 2016-11-14 15:51:49 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"2"}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 15:51:59 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.4ms)


Started POST "/survivors/2/inventories" for 127.0.0.1 at 2016-11-14 15:52:05 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"2"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 15:52:09 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 15:52:14 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 15:52:15 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.5ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 15:52:16 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.3ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 15:52:17 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (1.0ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 1.0ms)


Started PATCH "/survivors/2" for 127.0.0.1 at 2016-11-14 15:52:33 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"2"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-14 17:52:33 UTC], ["id", 2]]
  [1m[35m (81.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 93ms (Views: 0.7ms | ActiveRecord: 83.7ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 15:52:37 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.4ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 15:52:38 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms)


Started POST "/survivors/1/flag_infected" for 127.0.0.1 at 2016-11-14 15:52:59 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/1/flag_infected" for 127.0.0.1 at 2016-11-14 15:53:00 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/1/flag_infected" for 127.0.0.1 at 2016-11-14 15:53:00 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"_json"=>2, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-14 17:53:00 UTC], ["id", 2]]
  [1m[35m (85.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 98ms (ActiveRecord: 87.2ms)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/survivors_controller.rb:175:in `flag_infected'
Started GET "/survivors" for 127.0.0.1 at 2016-11-14 15:53:11 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.5ms)


Started PATCH "/survivors/2" for 127.0.0.1 at 2016-11-14 15:53:21 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"2"}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-14 17:53:21 UTC], ["id", 2]]
  [1m[35m (75.4ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 84ms (Views: 1.1ms | ActiveRecord: 76.7ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 15:58:12 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 27ms (Views: 19.3ms | ActiveRecord: 0.9ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 15:58:16 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 18ms (Views: 12.2ms | ActiveRecord: 1.1ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 15:58:29 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 9ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find Survivor with 'id'=):
  
app/controllers/survivors_controller.rb:164:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:00:04 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.6ms)


  
NoMethodError (undefined method `infected?' for nil:NilClass):
  
app/controllers/survivors_controller.rb:166:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:00:43 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors" WHERE "survivors"."id" = ?[0m  [["id", 1]]
Completed 500 Internal Server Error in 72ms (ActiveRecord: 1.4ms)


  
NameError (undefined local variable or method `survivor' for #<SurvivorsController:0x00000003e3cf80>
Did you mean?  @survivor):
  
app/controllers/survivors_controller.rb:169:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:01:03 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 12ms (ActiveRecord: 1.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:01:06 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:01:07 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors" WHERE "survivors"."id" = ?[0m  [["id", 1]]
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `update_attribute' for #<Survivor::ActiveRecord_Relation:0x0000000414d5d0>
Did you mean?  update_all):
  
app/controllers/survivors_controller.rb:173:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:02:36 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors" WHERE "survivors"."id" = ?[0m  [["id", 1]]
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.0ms)


  
NoMethodError (undefined method `id' for #<Survivor::ActiveRecord_Relation:0x00000003018760>
Did you mean?  ids):
  
app/controllers/survivors_controller.rb:178:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:03:01 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 16ms (ActiveRecord: 2.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:03:35 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 15ms (ActiveRecord: 1.5ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:04:03 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.7ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 14ms (ActiveRecord: 2.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:04:17 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 11ms (ActiveRecord: 2.0ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:08:06 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 14ms (ActiveRecord: 2.5ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:09:37 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 12ms (ActiveRecord: 1.6ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:09:38 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:09:39 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-14 18:09:39 UTC], ["id", 1]]
  [1m[35m (104.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 8]]
  [1m[35m (122.8ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 317ms (ActiveRecord: 230.5ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 16:09:45 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.5ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 16:09:47 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 16:09:48 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.4ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:09:52 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.3ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:09:54 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:09:54 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 16:10:21 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-14 18:10:21 UTC], ["id", 1]]
  [1m[35m (105.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 113ms (Views: 1.4ms | ActiveRecord: 105.8ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-14 16:10:43 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 0], ["created_at", 2016-11-14 18:10:43 UTC], ["updated_at", 2016-11-14 18:10:43 UTC]]
  [1m[35m (102.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 215ms (Views: 1.4ms | ActiveRecord: 105.3ms)


Started POST "/survivors/2/inventories" for 127.0.0.1 at 2016-11-14 16:11:22 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_1", "water"=>10, "food"=>1, "medical_kits"=>5, "ammo"=>50}, "survivor_id"=>"2"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 2], ["name", "inventory_1"], ["water", 10], ["food", 1], ["medical_kits", 5], ["ammo", 50], ["created_at", 2016-11-14 18:11:22 UTC], ["updated_at", 2016-11-14 18:11:22 UTC]]
  [1m[35m (102.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 115ms (Views: 0.5ms | ActiveRecord: 104.2ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 16:11:31 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>1, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 0], ["updated_at", 2016-11-14 18:11:31 UTC], ["id", 14]]
  [1m[35m (88.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", 0], ["updated_at", 2016-11-14 18:11:31 UTC], ["id", 14]]
  [1m[35m (73.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", 23], ["updated_at", 2016-11-14 18:11:31 UTC], ["id", 14]]
  [1m[35m (112.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 10], ["updated_at", 2016-11-14 18:11:31 UTC], ["id", 14]]
  [1m[35m (89.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", 2], ["updated_at", 2016-11-14 18:11:31 UTC], ["id", 14]]
  [1m[35m (116.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", 23], ["updated_at", 2016-11-14 18:11:31 UTC], ["id", 14]]
  [1m[35m (91.3ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 620ms (ActiveRecord: 576.4ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:11:35 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.4ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:12:38 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:12:39 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:12:39 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-14 18:12:39 UTC], ["id", 1]]
  [1m[35m (108.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 14]]
  [1m[35m (118.7ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 242ms (ActiveRecord: 229.5ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 16:12:55 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-14 18:12:55 UTC], ["id", 1]]
  [1m[35m (95.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 105ms (Views: 0.8ms | ActiveRecord: 97.3ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-14 16:13:09 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 0], ["created_at", 2016-11-14 18:13:09 UTC], ["updated_at", 2016-11-14 18:13:09 UTC]]
  [1m[35m (106.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 119ms (Views: 0.7ms | ActiveRecord: 108.6ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:13:13 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:13:22 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.5ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:13:22 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 16:14:46 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>1, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 0], ["updated_at", 2016-11-14 18:14:46 UTC], ["id", 16]]
  [1m[35m (97.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", 0], ["updated_at", 2016-11-14 18:14:46 UTC], ["id", 16]]
  [1m[35m (83.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", 23], ["updated_at", 2016-11-14 18:14:46 UTC], ["id", 16]]
  [1m[35m (87.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 10], ["updated_at", 2016-11-14 18:14:46 UTC], ["id", 16]]
  [1m[35m (88.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", 2], ["updated_at", 2016-11-14 18:14:46 UTC], ["id", 16]]
  [1m[35m (91.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", 23], ["updated_at", 2016-11-14 18:14:46 UTC], ["id", 16]]
  [1m[35m (106.2ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 602ms (ActiveRecord: 559.9ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:14:50 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:15:52 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:15:53 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:15:53 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-14 18:15:53 UTC], ["id", 1]]
  [1m[35m (79.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 16]]
  [1m[35m (113.4ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 212ms (ActiveRecord: 195.2ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 16:16:00 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-14 18:16:00 UTC], ["id", 1]]
  [1m[35m (101.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 113ms (Views: 1.3ms | ActiveRecord: 103.5ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-14 16:16:08 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 0], ["created_at", 2016-11-14 18:16:08 UTC], ["updated_at", 2016-11-14 18:16:08 UTC]]
  [1m[35m (90.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 110ms (Views: 1.2ms | ActiveRecord: 92.6ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:16:13 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:16:15 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.4ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:16:16 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.4ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 16:16:42 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>1, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 204 No Content in 29ms (ActiveRecord: 2.3ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 16:17:04 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>1, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 204 No Content in 35ms (ActiveRecord: 3.2ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 16:17:52 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>50, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 16:18:17 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 8ms (ActiveRecord: 0.8ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 16:18:52 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
Completed 204 No Content in 41ms (ActiveRecord: 3.2ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 16:21:57 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>0, "food"=>0, "medical_kits"=>0, "ammo"=>23, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 0], ["updated_at", 2016-11-14 18:21:57 UTC], ["id", 17]]
  [1m[35m (108.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", 0], ["updated_at", 2016-11-14 18:21:57 UTC], ["id", 17]]
  [1m[35m (91.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", 23], ["updated_at", 2016-11-14 18:21:57 UTC], ["id", 17]]
  [1m[35m (86.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 15], ["updated_at", 2016-11-14 18:21:57 UTC], ["id", 15]]
  [1m[35m (107.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", 2], ["updated_at", 2016-11-14 18:21:57 UTC], ["id", 15]]
  [1m[35m (103.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", 27], ["updated_at", 2016-11-14 18:21:57 UTC], ["id", 15]]
  [1m[35m (116.5ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 688ms (ActiveRecord: 621.1ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:22:03 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:22:08 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.3ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:22:09 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.4ms)


Started POST "/survivors/1/trade" for 127.0.0.1 at 2016-11-14 16:22:22 -0200
Processing by SurvivorsController#trade as */*
  Parameters: {"trader_id"=>2, "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 5], ["updated_at", 2016-11-14 18:22:22 UTC], ["id", 17]]
  [1m[35m (87.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", 1], ["updated_at", 2016-11-14 18:22:22 UTC], ["id", 17]]
  [1m[35m (84.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", 0], ["updated_at", 2016-11-14 18:22:22 UTC], ["id", 17]]
  [1m[35m (105.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "water" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["water", 10], ["updated_at", 2016-11-14 18:22:22 UTC], ["id", 15]]
  [1m[35m (82.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "food" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["food", 1], ["updated_at", 2016-11-14 18:22:23 UTC], ["id", 15]]
  [1m[35m (94.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "inventories" SET "ammo" = ?, "updated_at" = ? WHERE "inventories"."id" = ?[0m  [["ammo", 50], ["updated_at", 2016-11-14 18:22:23 UTC], ["id", 15]]
  [1m[35m (90.9ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 585ms (ActiveRecord: 549.9ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:22:24 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.3ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 16:23:03 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.4ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-14 16:23:04 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.4ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-14 16:23:18 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.4ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:28:15 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 9ms (ActiveRecord: 1.7ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:28:32 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.6ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 14ms (ActiveRecord: 1.7ms)


Started POST "/survivors" for 127.0.0.1 at 2016-11-14 16:29:22 -0200
Processing by SurvivorsController#create as */*
  Parameters: {"survivor"=>{"name"=>"mc donald", "age"=>25, "gender"=>"M", "lonlat"=>"1000,-1000", "infected?"=>false}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "survivors" ("name", "age", "gender", "lonlat", "infected?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "mc donald"], ["age", 25], ["gender", "M"], ["lonlat", "1000,-1000"], ["infected?", false], ["created_at", 2016-11-14 18:29:22 UTC], ["updated_at", 2016-11-14 18:29:22 UTC]]
  [1m[35m (88.4ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 100ms (Views: 3.1ms | ActiveRecord: 89.6ms)


Started POST "/survivors" for 127.0.0.1 at 2016-11-14 16:29:41 -0200
Processing by SurvivorsController#create as */*
  Parameters: {"survivor"=>{"name"=>"angela", "age"=>45, "gender"=>"F", "lonlat"=>"1000,-1000", "infected?"=>false}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "survivors" ("name", "age", "gender", "lonlat", "infected?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "angela"], ["age", 45], ["gender", "F"], ["lonlat", "1000,-1000"], ["infected?", false], ["created_at", 2016-11-14 18:29:41 UTC], ["updated_at", 2016-11-14 18:29:41 UTC]]
  [1m[35m (89.3ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 100ms (Views: 1.7ms | ActiveRecord: 91.4ms)


Started POST "/survivors" for 127.0.0.1 at 2016-11-14 16:30:09 -0200
Processing by SurvivorsController#create as */*
  Parameters: {"survivor"=>{"name"=>"ajax(francis)", "age"=>45, "gender"=>"M", "lonlat"=>"1000,-1000", "infected?"=>false}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "survivors" ("name", "age", "gender", "lonlat", "infected?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "ajax(francis)"], ["age", 45], ["gender", "M"], ["lonlat", "1000,-1000"], ["infected?", false], ["created_at", 2016-11-14 18:30:09 UTC], ["updated_at", 2016-11-14 18:30:09 UTC]]
  [1m[35m (96.0ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 108ms (Views: 2.4ms | ActiveRecord: 96.7ms)


Started GET "/stats" for 127.0.0.1 at 2016-11-14 16:30:16 -0200
Processing by StatsController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", true]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "survivors" WHERE "survivors"."infected?" = ?[0m  [["infected?", false]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" ORDER BY "inventories"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
Completed 200 OK in 31ms (Views: 0.6ms | ActiveRecord: 1.7ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 16:30:20 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 16:30:34 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 16:30:35 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.4ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:30:55 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:33:03 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 13ms (ActiveRecord: 1.5ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:33:12 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:33:26 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 14ms (ActiveRecord: 2.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:34:19 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 11ms (ActiveRecord: 1.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:36:07 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.5ms)


  
NameError (uninitialized class variable @@reporters in SurvivorsController):
  
app/controllers/survivors_controller.rb:163:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:36:36 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 14ms (ActiveRecord: 1.6ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:36:51 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 10ms (ActiveRecord: 1.4ms)


Started POST "/survivors/1/flag_infected" for 127.0.0.1 at 2016-11-14 16:37:17 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms)


Started POST "/survivors/1/flag_infected" for 127.0.0.1 at 2016-11-14 16:39:08 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 14ms (ActiveRecord: 1.6ms)


Started POST "/survivors/1/flag_infected" for 127.0.0.1 at 2016-11-14 16:40:23 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:163: syntax error, unexpected tINTEGER, expecting keyword_then or ';' or '\n'
/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:225: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/controllers/survivors_controller.rb:163: syntax error, unexpected tINTEGER, expecting keyword_then or ';' or '\n'
app/controllers/survivors_controller.rb:225: syntax error, unexpected keyword_end, expecting end-of-input
Started POST "/survivors/1/flag_infected" for 127.0.0.1 at 2016-11-14 16:40:39 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"1", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 11ms (Views: 0.3ms | ActiveRecord: 1.9ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:42:32 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:220: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/survivors_controller.rb:220: syntax error, unexpected end-of-input, expecting keyword_end
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:43:10 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 10ms (ActiveRecord: 1.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:43:25 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 60ms (ActiveRecord: 1.8ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:43:47 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 12ms (ActiveRecord: 1.4ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:47:53 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:210: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/survivors_controller.rb:210: syntax error, unexpected end-of-input, expecting keyword_end
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:48:05 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.0ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/survivors_controller.rb:168:in `block in flag_infected'
app/controllers/survivors_controller.rb:167:in `each'
app/controllers/survivors_controller.rb:167:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:49:58 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 18ms (ActiveRecord: 2.0ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/survivors_controller.rb:169:in `block in flag_infected'
app/controllers/survivors_controller.rb:168:in `each'
app/controllers/survivors_controller.rb:168:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:50:34 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.5ms)


  
NameError (uninitialized class variable @@reporting_survivor in SurvivorsController):
  
app/controllers/survivors_controller.rb:171:in `block in flag_infected'
app/controllers/survivors_controller.rb:167:in `each'
app/controllers/survivors_controller.rb:167:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:50:56 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 204 No Content in 20ms (ActiveRecord: 1.7ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:50:59 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-14 18:50:59 UTC], ["id", 1]]
  [1m[35m (94.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 17]]
  [1m[35m (128.3ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 294ms (ActiveRecord: 225.3ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 16:51:09 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.4ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 16:51:29 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-14 18:51:29 UTC], ["id", 1]]
  [1m[35m (101.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 115ms (Views: 1.5ms | ActiveRecord: 104.0ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-14 16:55:15 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.5ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 0], ["created_at", 2016-11-14 18:55:15 UTC], ["updated_at", 2016-11-14 18:55:15 UTC]]
  [1m[35m (117.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 234ms (Views: 1.0ms | ActiveRecord: 122.8ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 16:56:05 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-14 18:56:05 UTC], ["id", 1]]
  [1m[35m (115.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 18]]
  [1m[35m (133.7ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 307ms (ActiveRecord: 254.2ms)


Started GET "/inventories" for 127.0.0.1 at 2016-11-14 16:56:18 -0200
Processing by InventoriesController#index as HTML
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT "inventories".* FROM "inventories"[0m
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.4ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 16:56:22 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.9ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.9ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 16:56:34 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-14 18:56:34 UTC], ["id", 1]]
  [1m[35m (84.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 94ms (Views: 1.0ms | ActiveRecord: 85.4ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-14 16:56:41 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 0], ["created_at", 2016-11-14 18:56:41 UTC], ["updated_at", 2016-11-14 18:56:41 UTC]]
  [1m[35m (102.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 125ms (Views: 1.0ms | ActiveRecord: 105.0ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:14:21 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:220: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/survivors_controller.rb:220: syntax error, unexpected end-of-input, expecting keyword_end
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:15:25 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 76ms (ActiveRecord: 1.7ms)


  
NameError (undefined local variable or method `reporters' for #<SurvivorsController:0x00000003eae590>
Did you mean?  @@reporters):
  
app/controllers/survivors_controller.rb:171:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:15:41 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 11ms (ActiveRecord: 2.1ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:15:45 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.3ms)


  
NameError (uninitialized class variable @@reporting_survivor in SurvivorsController):
  
app/controllers/survivors_controller.rb:175:in `block in flag_infected'
app/controllers/survivors_controller.rb:174:in `each'
app/controllers/survivors_controller.rb:174:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:16:18 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 13ms (ActiveRecord: 1.8ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:16:20 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-14 19:16:20 UTC], ["id", 1]]
  [1m[35m (89.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 19]]
  [1m[35m (132.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 262ms (Views: 0.2ms | ActiveRecord: 224.7ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 17:16:47 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (2.1ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-14 19:16:47 UTC], ["id", 1]]
  [1m[35m (108.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 120ms (Views: 1.3ms | ActiveRecord: 111.2ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-14 17:16:56 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.1ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 0], ["created_at", 2016-11-14 19:16:56 UTC], ["updated_at", 2016-11-14 19:16:56 UTC]]
  [1m[35m (148.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 170ms (Views: 1.4ms | ActiveRecord: 149.6ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:17:17 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 15ms (ActiveRecord: 2.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:17:28 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-14 19:17:28 UTC], ["id", 1]]
  [1m[35m (87.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 20]]
  [1m[35m (88.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 224ms (Views: 0.3ms | ActiveRecord: 177.9ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:17:36 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:17:39 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 8ms (Views: 0.7ms | ActiveRecord: 0.6ms)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/survivors_controller.rb:187:in `block in flag_infected'
app/controllers/survivors_controller.rb:174:in `each'
app/controllers/survivors_controller.rb:174:in `flag_infected'
Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 17:17:45 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-14 19:17:45 UTC], ["id", 1]]
  [1m[35m (101.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 111ms (Views: 1.0ms | ActiveRecord: 102.9ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-14 17:17:48 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 0], ["created_at", 2016-11-14 19:17:48 UTC], ["updated_at", 2016-11-14 19:17:48 UTC]]
  [1m[35m (97.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 121ms (Views: 1.1ms | ActiveRecord: 100.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:18:28 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 9ms (ActiveRecord: 1.7ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:18:31 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:19:06 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 13ms (ActiveRecord: 1.6ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:19:10 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 72ms (ActiveRecord: 0.3ms)


  
NameError (undefined local variable or method `reporters' for #<SurvivorsController:0x00000003c9e598>
Did you mean?  @@reporters):
  
app/controllers/survivors_controller.rb:175:in `block in flag_infected'
app/controllers/survivors_controller.rb:174:in `each'
app/controllers/survivors_controller.rb:174:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:19:19 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 14ms (ActiveRecord: 1.6ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:19:24 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-14 19:19:24 UTC], ["id", 1]]
  [1m[35m (89.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.4ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 21]]
  [1m[35m (90.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 224ms (Views: 0.3ms | ActiveRecord: 184.0ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 17:20:01 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:223: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/controllers/survivors_controller.rb:223: syntax error, unexpected keyword_end, expecting end-of-input
Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 17:20:03 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:223: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/controllers/survivors_controller.rb:223: syntax error, unexpected keyword_end, expecting end-of-input
Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 17:20:05 -0200
  
SyntaxError (/home/giovanni/git/zombie_api/app/controllers/survivors_controller.rb:223: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/controllers/survivors_controller.rb:223: syntax error, unexpected keyword_end, expecting end-of-input
Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 17:20:33 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-14 19:20:33 UTC], ["id", 1]]
  [1m[35m (123.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 147ms (Views: 1.1ms | ActiveRecord: 125.6ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-14 17:20:36 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 0], ["created_at", 2016-11-14 19:20:36 UTC], ["updated_at", 2016-11-14 19:20:36 UTC]]
  [1m[35m (100.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 135ms (Views: 1.2ms | ActiveRecord: 102.7ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-14 17:21:15 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 40ms (ActiveRecord: 2.9ms)


  
ActiveRecord::RecordNotSaved (Failed to remove the existing associated inventory. The record failed to save after its foreign key was set to nil.):
  
app/controllers/inventories_controller.rb:16:in `create'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:21:22 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:21:26 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 4ms (ActiveRecord: 0.5ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:22:10 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 14ms (ActiveRecord: 1.7ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:22:12 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:23:32 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 12ms (ActiveRecord: 1.8ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:23:37 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:24:09 -0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 19ms (ActiveRecord: 1.1ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:24:10 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:24:36 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 14ms (ActiveRecord: 2.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:24:40 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 66ms (ActiveRecord: 0.4ms)


  
NameError (undefined local variable or method `reporters' for #<SurvivorsController:0x007f59f82072a0>):
  
app/controllers/survivors_controller.rb:180:in `block in flag_infected'
app/controllers/survivors_controller.rb:174:in `each'
app/controllers/survivors_controller.rb:174:in `flag_infected'
Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 17:25:00 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 29ms (Views: 0.8ms | ActiveRecord: 2.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:25:05 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:25:07 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:27:02 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 13ms (ActiveRecord: 2.0ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:27:09 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:27:12 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:27:14 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:27:52 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 18ms (ActiveRecord: 1.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:28:03 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 4ms (ActiveRecord: 0.4ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:28:05 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:28:48 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 14ms (ActiveRecord: 1.6ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:28:53 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:29:33 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.8ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 23ms (ActiveRecord: 2.7ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:29:38 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:30:09 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 12ms (ActiveRecord: 2.0ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:30:13 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:30:20 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 17ms (ActiveRecord: 1.8ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:31:39 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 14ms (ActiveRecord: 1.8ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:31:41 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 4ms (ActiveRecord: 0.5ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:31:53 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 59ms (ActiveRecord: 1.4ms)


  
NameError (undefined local variable or method `i' for #<SurvivorsController:0x00000003cf6770>):
  
app/controllers/survivors_controller.rb:175:in `flag_infected'
Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:32:05 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 10ms (ActiveRecord: 1.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:33:38 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:33:58 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 12ms (ActiveRecord: 2.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:35:07 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 12ms (ActiveRecord: 2.0ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:35:08 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:35:09 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:35:41 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 9ms (ActiveRecord: 1.7ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:41:33 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 12ms (ActiveRecord: 1.5ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:43:56 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.3ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 13ms (Views: 0.2ms | ActiveRecord: 1.4ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:44:55 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 14ms (Views: 0.2ms | ActiveRecord: 1.9ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 17:45:07 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.5ms)


Started POST "/survivors/3/flag_infected" for 127.0.0.1 at 2016-11-14 17:45:19 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"3", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.3ms)


  
NameError (uninitialized class variable @@reported_id in SurvivorsController):
  
app/controllers/survivors_controller.rb:178:in `flag_infected'
Started POST "/survivors/3/flag_infected" for 127.0.0.1 at 2016-11-14 17:46:00 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"3", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.3ms)


  
NameError (uninitialized class variable @@reporters in SurvivorsController):
  
app/controllers/survivors_controller.rb:182:in `flag_infected'
Started POST "/survivors/3/flag_infected" for 127.0.0.1 at 2016-11-14 17:46:27 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"3", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.3ms)


  
NameError (uninitialized class variable @@reporters in SurvivorsController):
  
app/controllers/survivors_controller.rb:189:in `flag_infected'
Started POST "/survivors/3/flag_infected" for 127.0.0.1 at 2016-11-14 17:46:40 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"3", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 11ms (Views: 0.2ms | ActiveRecord: 1.6ms)


Started POST "/survivors/4/flag_infected" for 127.0.0.1 at 2016-11-14 17:47:00 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"4", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-14 19:47:00 UTC], ["id", 1]]
  [1m[35m (113.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 22]]
  [1m[35m (94.1ms)[0m  [1m[36mcommit transaction[0m
Completed 204 No Content in 277ms (ActiveRecord: 210.6ms)


Started PATCH "/survivors/1" for 127.0.0.1 at 2016-11-14 17:48:17 -0200
Processing by SurvivorsController#update as */*
  Parameters: {"survivor"=>{"infected?"=>false}, "id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", false], ["updated_at", 2016-11-14 19:48:17 UTC], ["id", 1]]
  [1m[35m (117.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 144ms (Views: 0.5ms | ActiveRecord: 119.0ms)


Started POST "/survivors/1/inventories" for 127.0.0.1 at 2016-11-14 17:48:27 -0200
Processing by InventoriesController#create as */*
  Parameters: {"inventory"=>{"name"=>"inventory_0", "water"=>5, "food"=>1, "medical_kits"=>0, "ammo"=>0}, "survivor_id"=>"1"}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mInventory Load (0.3ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "inventories" ("survivor_id", "name", "water", "food", "medical_kits", "ammo", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["survivor_id", 1], ["name", "inventory_0"], ["water", 5], ["food", 1], ["medical_kits", 0], ["ammo", 0], ["created_at", 2016-11-14 19:48:27 UTC], ["updated_at", 2016-11-14 19:48:27 UTC]]
  [1m[35m (95.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 201 Created in 139ms (Views: 1.2ms | ActiveRecord: 98.5ms)


Started POST "/survivors/4/flag_infected" for 127.0.0.1 at 2016-11-14 17:48:35 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"4", "survivor"=>{}}
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)


Started GET "/survivors" for 127.0.0.1 at 2016-11-14 17:48:43 -0200
Processing by SurvivorsController#index as HTML
  [1m[36mSurvivor Load (0.5ms)[0m  [1m[34mSELECT "survivors".* FROM "survivors"[0m
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.5ms)


Started POST "/survivors/4/flag_infected" for 127.0.0.1 at 2016-11-14 17:48:47 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"4", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.4ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.3ms | ActiveRecord: 0.6ms)


Started POST "/survivors/2/flag_infected" for 127.0.0.1 at 2016-11-14 17:49:05 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"2", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started POST "/survivors/3/flag_infected" for 127.0.0.1 at 2016-11-14 17:49:14 -0200
Processing by SurvivorsController#flag_infected as */*
  Parameters: {"is_infected"=>1, "id"=>"3", "survivor"=>{}}
  [1m[36mSurvivor Load (0.2ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSurvivor Load (0.1ms)[0m  [1m[34mSELECT  "survivors".* FROM "survivors" WHERE "survivors"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "survivors" SET "infected?" = ?, "updated_at" = ? WHERE "survivors"."id" = ?[0m  [["infected?", true], ["updated_at", 2016-11-14 19:49:14 UTC], ["id", 1]]
  [1m[35m (137.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mInventory Load (0.2ms)[0m  [1m[34mSELECT  "inventories".* FROM "inventories" WHERE "inventories"."survivor_id" = ? LIMIT ?[0m  [["survivor_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "inventories" WHERE "inventories"."id" = ?[0m  [["id", 23]]
  [1m[35m (106.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 258ms (Views: 0.3ms | ActiveRecord: 245.3ms)


